{"ast":null,"code":"import _regeneratorRuntime from\"/home/alta16/Documents/Purnamasm/Day 31/cadangan/challenge4/node_modules/@babel/runtime/regenerator\";import createStore from\"unistore\";import axios from\"axios\";var baseUrl=\"https://newsapi.org/v2/everything\";var apiKey=\"448feafa267b4bf4babf102fe746d08b\";var initialState={api_key:\"\",email:\"\",password:\"\",full_name:\"\",username:\"\",is_login:false,listListArticle:[],isLoading:true,q:'academy'};export var store=createStore(initialState);export var actions=function actions(store){return{handleInputChange:function handleInputChange(state,event){var value,response;return _regeneratorRuntime.async(function handleInputChange$(_context){while(1){switch(_context.prev=_context.next){case 0:value=event.target.value;_context.next=3;return _regeneratorRuntime.awrap(store.setState({q:value}));case 3:if(!(value.length>2)){_context.next=14;break;}_context.prev=4;_context.next=7;return _regeneratorRuntime.awrap(axios.get(baseUrl+\"?q=\"+value+\"&apiKey=\"+apiKey));case 7:response=_context.sent;store.setState({listListArticle:response.data.articles,isLoading:false});_context.next=14;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](4);console.error(_context.t0);case 14:;case 15:case\"end\":return _context.stop();}}},null,null,[[4,11]]);},categoryNews:function categoryNews(state,event){return _regeneratorRuntime.async(function categoryNews$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return _regeneratorRuntime.awrap(axios.get(\"\".concat(baseUrl,\"?q=\").concat(event,\"&apiKey=448feafa267b4bf4babf102fe746d08b\")).then(function(response){store.setState({listListArticle:response.data.articles,isLoading:false});}).catch(function(error){store.setState({isLoading:false});}));case 2:case\"end\":return _context2.stop();}}});}// axiosCategory : async() => {\n//     const category = this.props.match.params.q;\n//     // const self = this;\n//     await axios\n//         .get(`${baseUrl}?q=${category}&apiKey=448feafa267b4bf4babf102fe746d08b`)\n//         .then(function(response){\n//             store.setState({listListArticle: response.data.articles, isLoading: false});\n//         })\n//         .catch(function(error){\n//             store.setState({isLoading: false});\n//         });\n// }    \n};};","map":{"version":3,"sources":["/home/alta16/Documents/Purnamasm/Day 31/cadangan/challenge4/src/store.js"],"names":["createStore","axios","baseUrl","apiKey","initialState","api_key","email","password","full_name","username","is_login","listListArticle","isLoading","q","store","actions","handleInputChange","state","event","value","target","setState","length","get","response","data","articles","console","error","categoryNews","then","catch"],"mappings":"qIAAA,MAAOA,CAAAA,WAAP,KAAwB,UAAxB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CAEA,GAAMC,CAAAA,OAAO,CAAG,mCAAhB,CACA,GAAMC,CAAAA,MAAM,CAAG,kCAAf,CAEA,GAAMC,CAAAA,YAAY,CAAG,CACjBC,OAAO,CAAE,EADQ,CAEjBC,KAAK,CAAE,EAFU,CAGjBC,QAAQ,CAAE,EAHO,CAIjBC,SAAS,CAAE,EAJM,CAKjBC,QAAQ,CAAE,EALO,CAMjBC,QAAQ,CAAE,KANO,CAOjBC,eAAe,CAAE,EAPA,CAQjBC,SAAS,CAAE,IARM,CASjBC,CAAC,CAAE,SATc,CAArB,CAYA,MAAO,IAAMC,CAAAA,KAAK,CAAGd,WAAW,CAACI,YAAD,CAAzB,CAEP,MAAO,IAAMW,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAAAD,KAAK,QAAK,CAC7BE,iBAAiB,CAAE,2BAAOC,KAAP,CAAcC,KAAd,gJACXC,KADW,CACHD,KAAK,CAACE,MAAN,CAAaD,KADV,kDAETL,KAAK,CAACO,QAAN,CAAe,CAAER,CAAC,CAAEM,KAAL,CAAf,CAFS,cAIXA,KAAK,CAACG,MAAN,CAAe,CAJJ,4FAMgBrB,KAAK,CAACsB,GAAN,CACnBrB,OAAO,CAAG,KAAV,CAAkBiB,KAAlB,CAA0B,UAA1B,CAAuChB,MADpB,CANhB,SAMDqB,QANC,eASPV,KAAK,CAACO,QAAN,CAAe,CAACV,eAAe,CAAEa,QAAQ,CAACC,IAAT,CAAcC,QAAhC,CAA0Cd,SAAS,CAAE,KAArD,CAAf,EATO,iFAWPe,OAAO,CAACC,KAAR,cAXO,QAad,CAbc,kEADU,CAgB7BC,YAAY,CAAE,sBAAOZ,KAAP,CAAcC,KAAd,6KAEJjB,KAAK,CACNsB,GADC,WACMrB,OADN,eACmBgB,KADnB,8CAEDY,IAFC,CAEI,SAASN,QAAT,CAAkB,CACpBV,KAAK,CAACO,QAAN,CAAe,CAACV,eAAe,CAAEa,QAAQ,CAACC,IAAT,CAAcC,QAAhC,CAA0Cd,SAAS,CAAE,KAArD,CAAf,EACH,CAJC,EAKDmB,KALC,CAKK,SAASH,KAAT,CAAe,CAClBd,KAAK,CAACO,QAAN,CAAe,CAACT,SAAS,CAAE,KAAZ,CAAf,EACH,CAPC,CAFI,iDAWd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAtC6B,CAAL,EAArB","sourcesContent":["import createStore from \"unistore\";\nimport axios from \"axios\";\n\nconst baseUrl = \"https://newsapi.org/v2/everything\";\nconst apiKey = \"448feafa267b4bf4babf102fe746d08b\";\n\nconst initialState = {\n    api_key: \"\",\n    email: \"\",\n    password: \"\",\n    full_name: \"\",\n    username: \"\",\n    is_login: false,\n    listListArticle: [],\n    isLoading: true ,\n    q: 'academy'\n};\n\nexport const store = createStore(initialState);\n\nexport const actions = store => ({\n    handleInputChange: async (state, event) => {\n        let value = event.target.value\n        await store.setState({ q: value });\n        // const self = this;\n        if (value.length > 2) {\n            try {\n                const response = await axios.get(\n                    baseUrl + \"?q=\" + value + \"&apiKey=\" + apiKey\n                );\n                store.setState({listListArticle: response.data.articles, isLoading: false});\n            } catch (error) {\n                console.error(error);\n            }\n        };\n    },\n    categoryNews: async (state, event) => {\n        // const self = this;\n        await axios\n            .get(`${baseUrl}?q=${event}&apiKey=448feafa267b4bf4babf102fe746d08b`)\n            .then(function(response){\n                store.setState({listListArticle: response.data.articles, isLoading: false});\n            })\n            .catch(function(error){\n                store.setState({isLoading: false});\n            });\n    }\n    // axiosCategory : async() => {\n    //     const category = this.props.match.params.q;\n    //     // const self = this;\n    //     await axios\n    //         .get(`${baseUrl}?q=${category}&apiKey=448feafa267b4bf4babf102fe746d08b`)\n    //         .then(function(response){\n    //             store.setState({listListArticle: response.data.articles, isLoading: false});\n    //         })\n    //         .catch(function(error){\n    //             store.setState({isLoading: false});\n    //         });\n    // }    \n});\n"]},"metadata":{},"sourceType":"module"}