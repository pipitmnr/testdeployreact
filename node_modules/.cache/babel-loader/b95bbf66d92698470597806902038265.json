{"ast":null,"code":"var _jsxFileName = \"/home/alta16/Documents/Purnamasm/Day 31/challenge_react/challenge-react/src/pages/list-article-data.js\";\nimport React, { Component } from \"react\";\nimport axios from \"axios\";\nimport ListArticle from \"../components/list-article\"; // import {\n//     useParams\n//   } from \"react-router-dom\";\n// const apiKey = \"448feafa267b4bf4babf102fe746d08b\"\n\nconst baseUrl = \"https://newsapi.org/v2/everything\"; // const q = \"academy\"\n// const urlHeadline = baseUrl + \"?q=\" + q + \"&apiKey=\" + apiKey;\n\nclass ListArticleData extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      listListArticle: [],\n      isLoading: true,\n      q: 'academy'\n    };\n\n    this.componentDidMount = async () => {\n      // const { q } = this.props.match.params.q\n      // let q = useParams();\n      // if(q){\n      //     fetch(`/news-category/${q}`)\n      //     .then((q) => {\n      //         this.setState(() => ({ q }))\n      //     })\n      // }\n      // const paramCategory = await this.props.match.params.q;\n      // this.setState({\n      //     q: paramCategory\n      // });\n      // console.log(\"cek props di listarticle\", this.props)\n      const category = this.props.match.params;\n      const self = this;\n      axios.get(`${baseUrl}?q=${self.state.q}&apiKey=448feafa267b4bf4babf102fe746d08b`).then(function (response) {\n        self.setState({\n          listListArticle: response.data.articles,\n          isLoading: false\n        });\n      }).catch(function (error) {\n        self.setState({\n          isLoading: false\n        });\n      });\n    };\n  }\n\n  render() {\n    const _this$state = this.state,\n          listListArticle = _this$state.listListArticle,\n          isLoading = _this$state.isLoading;\n    const topHeadlines = listListArticle.filter(item => {\n      if (item.content !== null && item.urlToImage !== null) {\n        return item;\n      }\n\n      return false;\n    });\n    const headlineNews = topHeadlines.map((item, key) => {\n      return React.createElement(ListArticle, {\n        key: key,\n        title: item.title,\n        img: item.urlToImage,\n        description: item.description,\n        url: item.url,\n        published: item.publishedAt,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 61\n        },\n        __self: this\n      });\n    });\n    return React.createElement(\"div\", {\n      className: \"headlineNews\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }, isLoading ? React.createElement(\"div\", {\n      style: {\n        textAlign: \"center\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, \"Loading...\") : headlineNews);\n  }\n\n}\n\nexport default ListArticleData;","map":{"version":3,"sources":["/home/alta16/Documents/Purnamasm/Day 31/challenge_react/challenge-react/src/pages/list-article-data.js"],"names":["React","Component","axios","ListArticle","baseUrl","ListArticleData","state","listListArticle","isLoading","q","componentDidMount","category","props","match","params","self","get","then","response","setState","data","articles","catch","error","render","topHeadlines","filter","item","content","urlToImage","headlineNews","map","key","title","description","url","publishedAt","textAlign"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,WAAP,MAAwB,4BAAxB,C,CACA;AACA;AACA;AAEA;;AACA,MAAMC,OAAO,GAAG,mCAAhB,C,CACA;AACA;;AAEA,MAAMC,eAAN,SAA8BJ,SAA9B,CAAuC;AAAA;AAAA;AAAA,SACnCK,KADmC,GAC3B;AACJC,MAAAA,eAAe,EAAE,EADb;AAEJC,MAAAA,SAAS,EAAE,IAFP;AAGJC,MAAAA,CAAC,EAAE;AAHC,KAD2B;;AAAA,SAUnCC,iBAVmC,GAUf,YAAW;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAGA;AACA,YAAMC,QAAQ,GAAG,KAAKC,KAAL,CAAWC,KAAX,CAAiBC,MAAlC;AACA,YAAMC,IAAI,GAAG,IAAb;AACAb,MAAAA,KAAK,CACAc,GADL,CACU,GAAEZ,OAAQ,MAAKW,IAAI,CAACT,KAAL,CAAWG,CAAE,0CADtC,EAEKQ,IAFL,CAEU,UAASC,QAAT,EAAkB;AACpBH,QAAAA,IAAI,CAACI,QAAL,CAAc;AAACZ,UAAAA,eAAe,EAAEW,QAAQ,CAACE,IAAT,CAAcC,QAAhC;AAA0Cb,UAAAA,SAAS,EAAE;AAArD,SAAd;AACH,OAJL,EAKKc,KALL,CAKW,UAASC,KAAT,EAAe;AAClBR,QAAAA,IAAI,CAACI,QAAL,CAAc;AAACX,UAAAA,SAAS,EAAE;AAAZ,SAAd;AACH,OAPL;AAQH,KArCkC;AAAA;;AAsCnCgB,EAAAA,MAAM,GAAE;AAAA,wBACiC,KAAKlB,KADtC;AAAA,UACGC,eADH,eACGA,eADH;AAAA,UACoBC,SADpB,eACoBA,SADpB;AAEJ,UAAMiB,YAAY,GAAGlB,eAAe,CAACmB,MAAhB,CAAuBC,IAAI,IAAI;AAChD,UAAGA,IAAI,CAACC,OAAL,KAAiB,IAAjB,IAAyBD,IAAI,CAACE,UAAL,KAAoB,IAAhD,EAAqD;AACjD,eAAOF,IAAP;AACH;;AACD,aAAO,KAAP;AACH,KALoB,CAArB;AAMA,UAAMG,YAAY,GAAGL,YAAY,CAACM,GAAb,CAAiB,CAACJ,IAAD,EAAOK,GAAP,KAAe;AACjD,aACI,oBAAC,WAAD;AACI,QAAA,GAAG,EAAIA,GADX;AAEI,QAAA,KAAK,EAAIL,IAAI,CAACM,KAFlB;AAGI,QAAA,GAAG,EAAIN,IAAI,CAACE,UAHhB;AAII,QAAA,WAAW,EAAIF,IAAI,CAACO,WAJxB;AAKI,QAAA,GAAG,EAAIP,IAAI,CAACQ,GALhB;AAMI,QAAA,SAAS,EAAIR,IAAI,CAACS,WANtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADJ;AAUH,KAXoB,CAArB;AAYA,WACI;AAAK,MAAA,SAAS,EAAC,cAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACK5B,SAAS,GAAG;AAAK,MAAA,KAAK,EAAE;AAAE6B,QAAAA,SAAS,EAAE;AAAb,OAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBAAH,GAA2DP,YADzE,CADJ;AAKH;;AA/DkC;;AAiEvC,eAAezB,eAAf","sourcesContent":["import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport ListArticle from \"../components/list-article\"\n// import {\n//     useParams\n//   } from \"react-router-dom\";\n\n// const apiKey = \"448feafa267b4bf4babf102fe746d08b\"\nconst baseUrl = \"https://newsapi.org/v2/everything\"\n// const q = \"academy\"\n// const urlHeadline = baseUrl + \"?q=\" + q + \"&apiKey=\" + apiKey;\n\nclass ListArticleData extends Component{\n    state = {\n        listListArticle: [],\n        isLoading: true ,\n        q: 'academy'\n    };\n    // handleRouterNav = categoryName => {\n    //     const category = categoryName;\n    //     this.props.history.replace(\"/news-category/\" + category);\n    // };\n    componentDidMount = async() => {\n        // const { q } = this.props.match.params.q\n        // let q = useParams();\n        // if(q){\n        //     fetch(`/news-category/${q}`)\n        //     .then((q) => {\n        //         this.setState(() => ({ q }))\n        //     })\n        // }\n        \n        // const paramCategory = await this.props.match.params.q;\n        // this.setState({\n        //     q: paramCategory\n        // });\n\n\n        // console.log(\"cek props di listarticle\", this.props)\n        const category = this.props.match.params;\n        const self = this;\n        axios\n            .get(`${baseUrl}?q=${self.state.q}&apiKey=448feafa267b4bf4babf102fe746d08b`)\n            .then(function(response){\n                self.setState({listListArticle: response.data.articles, isLoading: false});\n            })\n            .catch(function(error){\n                self.setState({isLoading: false});\n            });\n    };\n    render(){\n        const {listListArticle, isLoading} = this.state;\n        const topHeadlines = listListArticle.filter(item => {\n            if(item.content !== null && item.urlToImage !== null){\n                return item;\n            }\n            return false;\n        });\n        const headlineNews = topHeadlines.map((item, key) => {\n            return(\n                <ListArticle\n                    key = {key}\n                    title = {item.title}\n                    img = {item.urlToImage}\n                    description = {item.description}\n                    url = {item.url}\n                    published = {item.publishedAt}\n                />\n            );\n        });\n        return(\n            <div className=\"headlineNews\">\n                {isLoading ? <div style={{ textAlign: \"center\" }}>Loading...</div> : headlineNews}\n            </div>\n        );\n    }\n}\nexport default ListArticleData;"]},"metadata":{},"sourceType":"module"}