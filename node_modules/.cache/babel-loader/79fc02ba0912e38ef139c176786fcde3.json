{"ast":null,"code":"import _regeneratorRuntime from\"/home/alta16/Documents/Purnamasm/Day 31/cadangan/challenge4/node_modules/@babel/runtime/regenerator\";import _classCallCheck from\"/home/alta16/Documents/Purnamasm/Day 31/cadangan/challenge4/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/home/alta16/Documents/Purnamasm/Day 31/cadangan/challenge4/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/home/alta16/Documents/Purnamasm/Day 31/cadangan/challenge4/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/home/alta16/Documents/Purnamasm/Day 31/cadangan/challenge4/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _assertThisInitialized from\"/home/alta16/Documents/Purnamasm/Day 31/cadangan/challenge4/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";import _inherits from\"/home/alta16/Documents/Purnamasm/Day 31/cadangan/challenge4/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import'../assets/css/bootstrap.min.css';import'../assets/css/main.css';import Header from'../components/header';import ListArticleData from'./list-article-data';import TopArticleData from'./top-article-data';import axios from\"axios\";import{withRouter}from\"react-router-dom\";import{connect}from\"unistore/react\";import{actions,store}from\"../store\";var baseUrl=\"https://newsapi.org/v2/everything\";// const apiKey = \"448feafa267b4bf4babf102fe746d08b\";\nvar Home=/*#__PURE__*/function(_Component){_inherits(Home,_Component);function Home(){var _getPrototypeOf2;var _this;_classCallCheck(this,Home);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(Home)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.axiosCategory=function _callee(){var category,self;return _regeneratorRuntime.async(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:category=_this.props.match.params.q;self=_assertThisInitialized(_this);_context.next=4;return _regeneratorRuntime.awrap(axios.get(\"\".concat(baseUrl,\"?q=\").concat(category,\"&apiKey=448feafa267b4bf4babf102fe746d08b\")).then(function(response){store.setState({listListArticle:response.data.articles,isLoading:false});}).catch(function(error){store.setState({isLoading:false});}));case 4:case\"end\":return _context.stop();}}});};_this.componentDidMount=function _callee2(){return _regeneratorRuntime.async(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return _regeneratorRuntime.awrap(_this.axiosCategory());case 2:case\"end\":return _context2.stop();}}});};return _this;}_createClass(Home,[{key:\"render\",value:function render(){var _this2=this;return React.createElement(\"div\",null,React.createElement(Header,Object.assign({},this.props,{doSearch:function doSearch(event){return _this2.props.handleInputChange(event);},doCategory:function doCategory(e){return _this2.props.categoryNews(e);},placeholder:\"ketik sesuatu\"})),React.createElement(\"div\",{className:\"container\"},React.createElement(\"div\",{className:\"margin-atas\"},React.createElement(\"div\",{className:\"row\"},React.createElement(\"div\",{className:\"col-md-1\"}),React.createElement(\"div\",{className:\"col-md-4\"},React.createElement(TopArticleData,null)),React.createElement(\"div\",{className:\"col-md-7\"},React.createElement(ListArticleData,Object.assign({},this.props,{listListArticle:this.props.listListArticle,isLoading:this.props.isLoading})))))));}}]);return Home;}(Component);export default connect(\"listListArticle, isLoading\",actions)(withRouter(Home));","map":{"version":3,"sources":["/home/alta16/Documents/Purnamasm/Day 31/cadangan/challenge4/src/pages/home.js"],"names":["React","Component","Header","ListArticleData","TopArticleData","axios","withRouter","connect","actions","store","baseUrl","Home","axiosCategory","category","props","match","params","q","self","get","then","response","setState","listListArticle","data","articles","isLoading","catch","error","componentDidMount","event","handleInputChange","e","categoryNews"],"mappings":"u/BAAA,MAAOA,CAAAA,KAAP,EAAeC,SAAf,KAA+B,OAA/B,CACA,MAAO,iCAAP,CACA,MAAO,wBAAP,CACA,MAAOC,CAAAA,MAAP,KAAmB,sBAAnB,CACA,MAAOC,CAAAA,eAAP,KAA4B,qBAA5B,CACA,MAAOC,CAAAA,cAAP,KAA2B,oBAA3B,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,UAAT,KAA2B,kBAA3B,CACA,OAASC,OAAT,KAAwB,gBAAxB,CACA,OAASC,OAAT,CAAkBC,KAAlB,KAA+B,UAA/B,CAEA,GAAMC,CAAAA,OAAO,CAAG,mCAAhB,CACA;GAEMC,CAAAA,I,uXAiCFC,a,CAAgB,sJACNC,QADM,CACK,MAAKC,KAAL,CAAWC,KAAX,CAAiBC,MAAjB,CAAwBC,CAD7B,CAENC,IAFM,gFAGNb,KAAK,CACNc,GADC,WACMT,OADN,eACmBG,QADnB,8CAEDO,IAFC,CAEI,SAASC,QAAT,CAAkB,CACpBZ,KAAK,CAACa,QAAN,CAAe,CAACC,eAAe,CAAEF,QAAQ,CAACG,IAAT,CAAcC,QAAhC,CAA0CC,SAAS,CAAE,KAArD,CAAf,EACH,CAJC,EAKDC,KALC,CAKK,SAASC,KAAT,CAAe,CAClBnB,KAAK,CAACa,QAAN,CAAe,CAACI,SAAS,CAAE,KAAZ,CAAf,EACH,CAPC,CAHM,gD,OAYhBG,iB,CAAoB,2LACV,MAAKjB,aAAL,EADU,iD,uEAGZ,iBACJ,MACI,gCACI,oBAAC,MAAD,kBAAY,KAAKE,KAAjB,EAAwB,QAAQ,CAAE,kBAAAgB,KAAK,QAAI,CAAA,MAAI,CAAChB,KAAL,CAAWiB,iBAAX,CAA6BD,KAA7B,CAAJ,EAAvC,CAAgF,UAAU,CAAE,oBAACE,CAAD,QAAO,CAAA,MAAI,CAAClB,KAAL,CAAWmB,YAAX,CAAwBD,CAAxB,CAAP,EAA5F,CACI,WAAW,CAAC,eADhB,GADJ,CAGI,2BAAK,SAAS,CAAC,WAAf,EACI,2BAAK,SAAS,CAAC,aAAf,EACI,2BAAK,SAAS,CAAC,KAAf,EACI,2BAAK,SAAS,CAAC,UAAf,EADJ,CAII,2BAAK,SAAS,CAAC,UAAf,EACI,oBAAC,cAAD,MADJ,CAJJ,CAOI,2BAAK,SAAS,CAAC,UAAf,EACI,oBAAC,eAAD,kBAAqB,KAAKlB,KAA1B,EAAiC,eAAe,CAAI,KAAKA,KAAL,CAAWS,eAA/D,CAAgF,SAAS,CAAE,KAAKT,KAAL,CAAWY,SAAtG,GADJ,CAPJ,CADJ,CADJ,CAHJ,CADJ,CAqBH,C,kBAtEczB,S,EAwEnB,cAAeM,CAAAA,OAAO,CAClB,4BADkB,CAElBC,OAFkB,CAAP,CAGXF,UAAU,CAACK,IAAD,CAHC,CAAf","sourcesContent":["import React, {Component} from 'react';\nimport '../assets/css/bootstrap.min.css';\nimport '../assets/css/main.css';\nimport Header from '../components/header';\nimport ListArticleData from './list-article-data';\nimport TopArticleData from './top-article-data';\nimport axios from \"axios\";\nimport { withRouter } from \"react-router-dom\";\nimport { connect } from \"unistore/react\";\nimport { actions, store } from \"../store\";\n\nconst baseUrl = \"https://newsapi.org/v2/everything\";\n// const apiKey = \"448feafa267b4bf4babf102fe746d08b\";\n\nclass Home extends Component{\n    // state = {\n    //     listListArticle: [],\n    //     isLoading: true ,\n    //     q: 'academy'\n    // };\n    // handleInputChange = async event => {\n    //     let value = event.target.value;\n    //     await this.setState({ q: value });\n    //     const self = this;\n    //     if (value.length > 2) {\n    //         try {\n    //             const response = await axios.get(\n    //                 baseUrl + \"?q=\" + value + \"&apiKey=\" + apiKey\n    //             );\n    //             self.setState({listListArticle: response.data.articles, isLoading: false});\n    //             console.warn(response.data.articles, \"haaaaaaaaaaaaaaaaa\");\n    //         } catch (error) {\n    //             console.error(error);\n    //         }\n    //     };\n    // };\n    // categoryNews = async event => {\n    //     const self = this;\n    //     await axios\n    //         .get(`${baseUrl}?q=${event}&apiKey=448feafa267b4bf4babf102fe746d08b`)\n    //         .then(function(response){\n    //             self.setState({listListArticle: response.data.articles, isLoading: false});\n    //         })\n    //         .catch(function(error){\n    //             self.setState({isLoading: false});\n    //         });\n    // }\n    axiosCategory = async() => {\n        const category = this.props.match.params.q;\n        const self = this;\n        await axios\n            .get(`${baseUrl}?q=${category}&apiKey=448feafa267b4bf4babf102fe746d08b`)\n            .then(function(response){\n                store.setState({listListArticle: response.data.articles, isLoading: false});\n            })\n            .catch(function(error){\n                store.setState({isLoading: false});\n            });\n    }\n    componentDidMount = async() => {\n        await this.axiosCategory();\n    };\n    render(){\n        return (\n            <div>\n                <Header {...this.props} doSearch={event => this.props.handleInputChange(event)} doCategory={(e) => this.props.categoryNews(e)}\n                    placeholder=\"ketik sesuatu\"/>\n                <div className=\"container\">\n                    <div className=\"margin-atas\">\n                        <div className=\"row\">\n                            <div className=\"col-md-1\">\n\n                            </div>\n                            <div className=\"col-md-4\">\n                                <TopArticleData/>\n                            </div>\n                            <div className=\"col-md-7\">\n                                <ListArticleData {...this.props} listListArticle = {this.props.listListArticle} isLoading={this.props.isLoading}/>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>   \n        );\n    }\n}\nexport default connect(\n    \"listListArticle, isLoading\",\n    actions\n  )(withRouter(Home));"]},"metadata":{},"sourceType":"module"}